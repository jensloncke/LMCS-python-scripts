# Extract multi_measure data

## Purpose of this script
This folder contains a Python script that automates **extraction of time information and fluorescence to .xlsx files**, **ratio calculation**, **fluorescence normalization** and **trace plotting** of raw multi_measure .csv files acquired through one of the ImageJ macros on: https://github.com/jensloncke/ImageJ_macros .
The script will extract .csv files generated by ImageJ and merge them with time information extracted from raw .nd2 files (if path is specified). If desired, fluorescence is normalized by detecting median fluorescence in a given F0 timeframe. In the case of ratiometric FURA-2 or roGFP data, ratios will be calculated.
The processed data will be exported as .xlsx files and interactive .html plots.

## Dependencies 
* pandas
* numpy
* nd2reader
* os
* pathlib
* plotly
* yaml or PyYaml
* openpyxl

## How to operate this script

### Fill in configuration.yml

* **paths**
	* **raw_acquisitions**: path to raw .nd2 files (leave blank if you do not want to include time information)
	* **data**: path to multi measured data in ImageJ
	* **results**: path to your desired output location.
* **normalize_fluorescence**: Boolean value (True or False). Put True if you want to compute F over F0.
* **constants**
  * **F0_start_time**: Start times of baseline periods for the basal fluorescence.
  * **F0_end_time**: End times of baseline periods for the basal fluorescence.
  
### Run data_extraction_multi_measure_imageJ.py
